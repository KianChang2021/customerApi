<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        
    </head>
    <body>
        <h2><a href="{{ url_for('rCustomer') }}">Register</a></h2>
        <table>
            <tr>
              <th>Id</th>
              <th>Customer Name</th>
              <th>Customer Age</th>
              <th>Customer Location</th>
              <th>Customer Ic</th>
            </tr>
            {% for x in customer %}
            <tr>
                <td>{{x[0]}}</td>
                <td>{{x[1]}}</td>
                <td>{{x[2]}}</td>
                <td>{{x[3]}}</td>
                <form method="post" action="{{ url_for('gCustomer') }}">
                    <td value="{{x[4]}}">
                        <input type="submit" name="ic" value="{{x[4]}}"></input>
                    </td>
                </form>
                <td value="{{x[0]}}">
                <button name="id" class="delete" value="{{x[0]}}">
                    <i class="far fa-trash-alt">Delete</i>
                </button>
                </td>
            </tr>
            {% endfor %}
          </table>
       
        
	</ul>
    </body>
</html>
<script>

$('.delete').click(function(){
    Id = $(this).attr('value')
    var data = {
        ID: $(this).attr('value')
    };
    
    $.ajax({
          type: 'POST',
          url : "{{url_for('dCustomer')}}",
          contentType: 'application/json',
          data: JSON.stringify(data),
      })
      .done(function(data) {
          location.reload();
      })
    });
</script>